# Chromium GN 문자열 (Strings) 가이드

GN(Generate Ninja)에서 문자열(String)은 파일 경로, 타겟 이름, 플래그 설정 등 빌드 구성의 핵심적인 데이터 타입입니다.

## 1. 기본 문법 (Basic Syntax)

문자열은 항상 큰따옴표(`"`)로 감싸야 합니다. 작은따옴표(`'`)는 지원하지 않습니다.

```gn
# 올바른 예
my_str = "Hello World"
filename = "main.cc"

# 잘못된 예 (Syntax Error)
# my_str = 'Hello World'
```

## 2. 변수 확장 (String Expansion)

문자열 내부에서 `$` 기호를 사용하여 변수의 값을 문자열에 포함시킬 수 있습니다. 이를 문자열 보간(Interpolation)이라고 합니다.

### 단순 변수 확장
변수 이름 뒤에 공백이나 특수 문자가 오는 경우 `$`만 사용해도 됩니다.

```gn
name = "GN"
greeting = "Hello, $name"  # "Hello, GN"
```

### 복잡한 변수 확장 (`{}`)
변수 이름 뒤에 바로 다른 문자가 붙거나, 스코프(Scope) 내의 변수에 접근할 때는 중괄호(`${}`)를 사용해야 합니다.

```gn
# 변수명 구분
root = "src"
path = "${root}/include"  # "src/include"

# 스코프 접근
my_scope = {
  version = "1.0"
}
version_file = "ver_${my_scope.version}.txt"
```

**주의:** 리스트(List)나 스코프(Scope) 자체는 문자열 확장에 직접 사용할 수 없습니다.

## 3. 이스케이프 문자 (Escape Characters)

특수 문자를 문자열에 포함하려면 역슬래시(`\`)를 사용합니다.

*   `\"`: 큰따옴표 자체
*   `\$`: 달러 기호 자체 (변수 확장 방지)
*   `\\`: 역슬래시 자체
*   `\xNN`: 16진수 8비트 문자 (예: `\x0A`는 줄바꿈)

```gn
print("He said, \"Hello\"")
path = "C:\\Windows\\System32"
cost = "Price: \$100"
```

## 4. 문자열 연결 (Concatenation)

GN은 문자열 간의 `+` 연산자를 지원하지 않습니다. 문자열을 연결하려면 변수 확장을 사용해야 합니다.

```gn
part1 = "foo"
part2 = "bar"

# 잘못된 방법
# full = part1 + part2

# 올바른 방법
full = "$part1$part2"      # "foobar"
path = "$part1/$part2.cc"  # "foo/bar.cc"
```

## 5. 파일 경로 처리

GN은 Windows를 포함한 모든 운영체제에서 경로 구분자로 슬래시(`/`)를 사용하는 것을 권장합니다.

*   **소스 루트 경로 (`//`)**: 소스 트리의 최상위 디렉토리를 의미합니다.
*   **시스템 절대 경로 (`/`)**: 시스템의 루트를 의미합니다 (빌드 파일에서는 거의 사용하지 않음).
*   **상대 경로**: 현재 디렉토리를 기준으로 합니다.

```gn
include_dirs = [
  "//base",        # 소스 루트 기준
  "src/include",   # 현재 디렉토리 기준
]
```

## 6. 문자열 관련 내장 함수

GN은 문자열 조작을 위한 유용한 내장 함수들을 제공합니다.

### `string_replace`
문자열 내의 특정 부분 문자열을 다른 문자열로 치환합니다.

```gn
original = "hello world"
# "hello GN"
result = string_replace(original, "world", "GN")
```

### `string_join`
리스트의 요소들을 구분자로 연결하여 하나의 문자열로 만듭니다.

```gn
list = [ "a", "b", "c" ]
# "a,b,c"
joined = string_join(",", list)
```

### `string_split`
문자열을 구분자 기준으로 나누어 리스트로 반환합니다.

```gn
path = "a/b/c"
# [ "a", "b", "c" ]
parts = string_split(path, "/")
```
