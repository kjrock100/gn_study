# Chromium GN Desc 명령어 가이드

`gn desc`는 특정 타겟(Target)이나 설정(Config)에 대한 상세 정보를 조회하는 명령어입니다. 빌드 시스템을 디버깅하거나, 특정 타겟이 어떤 소스 파일을 포함하고 어떤 플래그로 컴파일되는지 확인할 때 매우 유용합니다.

## 1. 기본 사용법 (Basic Usage)

```bash
gn desc <out_dir> <target_label> [<what>] [--blame] [--all]
```

*   **`<out_dir>`**: 빌드 디렉토리 경로 (예: `out/Default`).
*   **`<target_label>`**: 정보를 조회할 타겟의 라벨 (예: `//base:base`).
*   **`[<what>]`**: (선택 사항) 조회하고 싶은 특정 속성. 생략하면 모든 정보를 출력합니다.

### 예시
```bash
# //base:base 타겟의 모든 정보 조회
gn desc out/Default //base:base
```

## 2. 특정 속성 조회 (Filtering)

전체 정보는 양이 많을 수 있으므로, 보고 싶은 속성만 지정하여 조회할 수 있습니다.

### 주요 속성 목록
*   `sources`: 소스 파일 목록.
*   `deps`: 의존성 타겟 목록 (Private).
*   `public_deps`: 공개 의존성 타겟 목록.
*   `configs`: 적용된 설정(Config) 목록.
*   `defines`: 전처리기 매크로 정의 (`-D`).
*   `include_dirs`: 헤더 포함 경로 (`-I`).
*   `cflags`, `cflags_cc`: 컴파일러 플래그.
*   `outputs`: 이 타겟이 생성하는 출력 파일 목록.
*   `visibility`: 이 타겟을 의존할 수 있는 타겟 목록.

### 예시
```bash
# 소스 파일 목록만 조회
gn desc out/Default //base:base sources

# 정의된 매크로 확인
gn desc out/Default //net:net defines
```

## 3. 설정 출처 추적 (`--blame`)

`--blame` 플래그를 사용하면, 특정 설정(define, cflag 등)이 **어떤 Config나 타겟에서 유래했는지** 추적할 수 있습니다. 빌드 설정이 어디서 왔는지 모를 때 매우 강력한 디버깅 도구입니다.

```bash
gn desc out/Default //base:base defines --blame
```

**출력 예시:**
```text
From //build/config:feature_flags:
  ENABLE_DOOM_MODE
From //base:base_config:
  BASE_IMPLEMENTATION
```

## 4. 활용 팁

### 4.1. 쉘 명령어와 조합
출력 결과가 텍스트이므로 `grep` 등과 조합하여 특정 라이브러리를 링크하는지 등을 빠르게 확인할 수 있습니다.

```bash
# 특정 라이브러리를 의존하는지 확인
gn desc out/Default //chrome:chrome deps | grep "icu"
```

### 4.2. 가시성(Visibility) 확인
타겟을 다른 모듈에서 사용하려고 할 때 "Visibility error"가 발생한다면, `gn desc`로 해당 타겟의 `visibility` 설정을 확인해 보세요.

```bash
gn desc out/Default //some/private:target visibility
```
