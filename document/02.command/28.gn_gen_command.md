# Chromium GN Gen 명령어 가이드

`gn gen`은 GN 빌드 시스템의 가장 핵심적인 명령어로, GN 설정 파일(`BUILD.gn`, `.gni`)을 읽어 실제 빌드를 수행할 **Ninja 빌드 파일**(`build.ninja` 등)을 생성합니다.

## 1. 기본 사용법 (Basic Usage)

```bash
gn gen <out_dir>
```

*   **`<out_dir>`**: 빌드 산출물과 Ninja 파일이 저장될 디렉토리 경로입니다. (예: `out/Default`, `out/Debug`)
*   해당 디렉토리가 없으면 생성합니다.

### 예시
```bash
gn gen out/Default
```
이 명령을 실행하면 `out/Default` 디렉토리에 `build.ninja`, `toolchain.ninja`, `args.gn` 등의 파일이 생성됩니다. 이후 `ninja -C out/Default`를 실행하여 컴파일을 시작할 수 있습니다.

## 2. 주요 옵션 (Key Options)

### `--args`
빌드 인자(Build Arguments)를 커맨드 라인에서 직접 설정합니다. `gn args` 명령어로 편집기를 열지 않고 설정할 때 유용합니다.

```bash
gn gen out/Release --args="is_debug=false target_cpu=\"x64\""
```

### `--check`
Ninja 파일을 생성하면서 동시에 헤더 의존성 검사(`gn check`)를 수행합니다.

```bash
gn gen out/Default --check
```

### `--ide`
IDE(통합 개발 환경)를 위한 프로젝트 파일을 생성합니다.
*   지원 값: `"vs"` (Visual Studio), `"xcode"` (Xcode), `"qtcreator"`, `"json"` (VS Code 등에서 활용) 등.

```bash
# Visual Studio 솔루션 파일 생성
gn gen out/Default --ide=vs
```

### `--fail-on-unused-args`
`args.gn`에 설정된 인자 중, 실제 빌드 구성에 사용되지 않은 인자가 있으면 에러를 발생시킵니다. 불필요한 설정을 정리할 때 유용합니다.

## 3. 자동 재생성 (Automatic Regeneration)

일반적으로 `gn gen`은 **처음 빌드 디렉토리를 만들 때** 한 번만 실행하면 됩니다.

이후에 `BUILD.gn` 파일을 수정하고 `ninja`를 실행하면, Ninja가 GN 설정 파일의 변경을 감지하고 자동으로 GN을 다시 실행하여 빌드 파일을 갱신합니다. 따라서 매번 `gn gen`을 수동으로 입력할 필요가 없습니다.

## 4. 생성되는 파일들

`gn gen`이 성공적으로 완료되면 출력 디렉토리에 다음과 같은 파일들이 생성됩니다.

*   **`build.ninja`**: Ninja 빌드의 진입점 파일.
*   **`toolchain.ninja`**: 툴체인별 빌드 규칙 정의.
*   **`args.gn`**: 사용자가 설정한 빌드 인자 저장 파일.
*   **`build.ninja.d`**: GN 파일들의 의존성 목록 (재생성 감지용).
