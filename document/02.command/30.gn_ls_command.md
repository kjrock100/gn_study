# Chromium GN Ls 명령어 가이드

`gn ls`는 빌드 그래프에 정의된 타겟(Target)들의 목록을 조회하는 명령어입니다. 특정 디렉토리 하위에 어떤 타겟들이 있는지, 또는 특정 타입의 타겟만 골라낼 때 유용합니다.

## 1. 기본 사용법 (Basic Usage)

```bash
gn ls <out_dir> [<label_pattern>] [--type=...] [--testonly=...]
```

*   **`<out_dir>`**: 빌드 디렉토리 경로 (예: `out/Default`).
*   **`[<label_pattern>]`**: (선택 사항) 조회할 타겟 라벨 패턴. 생략하면 모든 타겟을 보여줍니다.

### 예시

```bash
# 모든 타겟 나열
gn ls out/Default

# //base 디렉토리 하위의 모든 타겟 나열
gn ls out/Default "//base/*"

# //chrome/browser 디렉토리 바로 아래의 타겟만 나열 (하위 디렉토리 제외)
gn ls out/Default "//chrome/browser:*"
```

## 2. 필터링 옵션 (Filtering)

원하는 타겟만 골라보기 위해 다양한 필터링 옵션을 제공합니다.

### 타겟 유형별 필터링 (`--type`)
특정 유형의 타겟만 조회할 수 있습니다.
*   지원 값: `executable`, `shared_library`, `static_library`, `source_set`, `copy`, `action`, `group` 등.

```bash
# 실행 파일만 나열
gn ls out/Default --type=executable

# 정적 라이브러리만 나열
gn ls out/Default "//base/*" --type=static_library
```

### 테스트 타겟 필터링 (`--testonly`)
*   `--testonly=true`: `testonly = true`로 설정된 타겟만 보여줍니다.
*   `--testonly=false`: 프로덕션 코드 타겟만 보여줍니다.

```bash
gn ls out/Default --testonly=true
```

## 3. 출력 형식 변경 (`--as`)

타겟의 라벨 대신, 해당 타겟이 생성하는 출력 파일 경로를 보고 싶을 때 사용합니다.

*   `--as=label`: (기본값) 타겟 라벨 출력 (예: `//base:base`).
*   `--as=output`: 빌드 산출물 경로 출력 (예: `obj/base/libbase.a`).
*   `--as=json`: 결과를 JSON 형식으로 출력.

```bash
# 타겟이 생성하는 실제 파일 경로 확인
gn ls out/Default //base:base --as=output
```

## 4. 툴체인 (`--all-toolchains`)

기본적으로 `gn ls`는 기본 툴체인(Default Toolchain)에 속한 타겟만 보여줍니다. 크로스 컴파일 등으로 인해 다른 툴체인으로 빌드되는 타겟까지 모두 보고 싶다면 이 플래그를 사용합니다.

```bash
gn ls out/Default --all-toolchains
```
