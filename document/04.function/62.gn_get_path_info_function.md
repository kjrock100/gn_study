# Chromium GN get_path_info 함수 가이드

`get_path_info` 함수는 파일 경로 문자열을 입력받아, 해당 경로의 특정 부분(디렉토리, 파일명, 확장자 등)을 추출하는 데 사용됩니다. `action` 타겟 등에서 출력 파일 이름을 동적으로 생성할 때 매우 유용합니다.

## 1. 기본 문법 (Basic Syntax)

```gn
result = get_path_info(input, what)
```

*   **`input`**: 정보를 추출할 파일 경로 문자열입니다. (예: `"src/foo.cc"`)
*   **`what`**: 추출할 정보의 종류를 지정하는 문자열입니다.

## 2. `what` 옵션 (Options)

*   **`"file"`**: 파일 이름과 확장자를 포함한 부분을 반환합니다. (예: `"foo.cc"`)
*   **`"name"`**: 확장자를 제외한 파일 이름만 반환합니다. (예: `"foo"`)
*   **`"extension"`**: 파일 확장자를 반환합니다 (점 `.` 제외). (예: `"cc"`)
*   **`"dir"`**: 파일이 속한 디렉토리 경로를 반환합니다. (예: `"src"`)
*   **`"abspath"`**: 파일의 시스템 절대 경로를 반환합니다.
*   **`"gen_dir"`**: 해당 소스 파일에 대응하는 생성 파일 디렉토리(`target_gen_dir`)를 반환합니다.
*   **`"out_dir"`**: 해당 소스 파일에 대응하는 객체 파일 출력 디렉토리(`target_out_dir`)를 반환합니다.

## 3. 사용 예시 (Usage Examples)

### 3.1. 경로 정보 분해

```gn
path = "src/app/main.cc"

file = get_path_info(path, "file")      # "main.cc"
name = get_path_info(path, "name")      # "main"
extension = get_path_info(path, "extension") # "cc"
dir = get_path_info(path, "dir")        # "src/app"
```

### 3.2. 출력 파일 이름 생성

`action_foreach` 타겟에서 입력 파일의 이름을 기반으로 출력 파일의 이름을 만들 때 자주 사용됩니다.

```gn
action_foreach("convert_images") {
  script = "convert.py"
  sources = [ "a.jpg", "b.jpg" ]

  # 입력 파일의 이름(확장자 제외)을 가져와 ".png" 확장자를 붙여 출력 파일명 생성
  # 예: a.jpg -> gen/a.png
  outputs = [ "$target_gen_dir/{{source_name_part}}.png" ]

  # 위와 동일한 로직을 get_path_info로 구현할 수도 있음
  # outputs = [ "$target_gen_dir/" + get_path_info(source, "name") + ".png" ]
  # (단, action_foreach에서는 {{...}} 패턴 사용이 더 일반적)

  args = [
    "{{source}}",
    rebase_path(outputs[0], root_build_dir),
  ]
}
```

## 4. `get_label_info`와의 차이점

*   **`get_path_info`**: 파일 경로 **문자열**을 처리합니다.
*   **`get_label_info`**: 타겟 **라벨**(`//path:name`)을 처리합니다.

두 함수는 입력받는 데이터의 종류가 다르므로 혼동하지 않도록 주의해야 합니다.
