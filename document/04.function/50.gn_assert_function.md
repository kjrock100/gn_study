# Chromium GN Assert 함수 가이드

`assert` 함수는 주어진 조건이 참(true)인지 확인하는 데 사용됩니다. 만약 조건이 거짓(false)이라면, GN은 즉시 빌드 파일 생성을 중단하고 오류 메시지를 출력합니다. 이는 잘못된 빌드 구성이나 지원하지 않는 플랫폼에서의 빌드 시도를 조기에 차단하는 데 유용합니다.

## 1. 기본 문법 (Basic Syntax)

```gn
assert(condition, error_message)
```

*   **`condition`**: 평가할 불리언(Boolean) 표현식입니다.
*   **`error_message`**: (선택 사항) 조건이 거짓일 때 출력할 문자열입니다. 생략하면 기본 에러 메시지가 출력되지만, 명확한 이유를 제공하기 위해 메시지를 작성하는 것이 권장됩니다.

## 2. 사용 예시 (Usage Examples)

### 2.1. 플랫폼 호환성 확인

특정 라이브러리나 타겟이 특정 운영체제에서만 동작해야 할 때 사용합니다.

```gn
if (current_os == "ios") {
  assert(target_cpu == "arm64", "iOS builds only support arm64 architecture.")
}
```

### 2.2. 필수 빌드 인자 검증

사용자가 설정한 빌드 인자(`declare_args`)가 유효한 조합인지 확인할 때 사용합니다.

```gn
declare_args() {
  enable_feature_x = true
  use_legacy_backend = false
}

# Feature X는 Legacy Backend와 함께 사용할 수 없음
if (enable_feature_x) {
  assert(!use_legacy_backend, 
         "enable_feature_x cannot be used with use_legacy_backend.")
}
```

### 2.3. 템플릿 인자 유효성 검사

사용자 정의 템플릿에서 필수 인자가 전달되었는지 확인하거나, 인자 값이 올바른지 검증할 때 유용합니다.

```gn
template("my_component") {
  assert(defined(invoker.sources), "sources must be defined for $target_name")
  
  source_set(target_name) {
    forward_variables_from(invoker, "*")
  }
}
```

## 3. 주의사항

*   **즉시 중단**: `assert`가 실패하면 그 즉시 `gn gen` 프로세스가 종료됩니다. 경고(Warning)만 출력하고 계속 진행하는 기능은 `assert`로 구현할 수 없습니다 (GN에는 별도의 경고 함수가 없습니다).
*   **디버깅**: 복잡한 로직에서 변수 값이 예상과 다를 때, `print` 함수와 함께 사용하여 상태를 확인하고 `assert(false)`로 실행을 멈추는 방식으로 디버깅할 수 있습니다.
