# Chromium GN Defined 함수 가이드

`defined` 함수는 특정 변수가 현재 스코프(Scope) 내에 존재하는지 확인하는 데 사용됩니다. 주로 템플릿(Template)에서 선택적 인자(Optional Arguments)를 처리하거나, 특정 설정이 활성화되었는지 확인할 때 필수적입니다.

## 1. 기본 문법 (Basic Syntax)

```gn
is_exists = defined(variable_name)
```

*   **`variable_name`**: 확인할 변수의 이름(Identifier)입니다. 문자열이 아닌 식별자 자체를 전달합니다.
*   **반환값**: 변수가 정의되어 있으면 `true`, 그렇지 않으면 `false`를 반환합니다.

## 2. 사용 예시 (Usage Examples)

### 2.1. 템플릿의 선택적 인자 처리

`defined`가 가장 많이 사용되는 곳은 사용자 정의 템플릿입니다. 호출자가 특정 변수(예: `flags`, `deps`)를 전달했는지 확인하고, 전달하지 않았을 때의 기본 동작을 정의할 수 있습니다.

```gn
template("my_component") {
  source_set(target_name) {
    sources = invoker.sources
    
    # 'deps'가 정의되어 있을 때만 추가
    if (defined(invoker.deps)) {
      deps = invoker.deps
    } else {
      deps = [] # 기본값
    }

    # 'enable_logging' 인자가 true로 설정되어 있는지 확인
    if (defined(invoker.enable_logging) && invoker.enable_logging) {
      defines = [ "ENABLE_LOGGING" ]
    }
  }
}

# 사용
my_component("comp_a") {
  sources = [ "a.cc" ]
  # deps는 정의하지 않음 -> 빈 리스트 사용됨
}
```

### 2.2. 전역 변수 및 설정 확인

특정 빌드 구성이나 OS별 설정 변수가 존재하는지 확인할 때 사용합니다.

```gn
if (defined(is_android) && is_android) {
  # Android 관련 설정
}
```

## 3. 스코프와 접근 (Scope & Access)

`defined`는 현재 스코프 또는 접근 가능한 스코프의 변수를 확인합니다.

*   **로컬 변수**: `defined(my_var)`
*   **스코프 객체 내부**: `defined(invoker.my_var)` 또는 `defined(my_scope.key)`

## 4. 주의사항

*   **`null` 개념 없음**: GN에는 `null`이나 `nil` 값이 없습니다. 변수가 "없다"는 것은 "정의되지 않았다"는 뜻입니다. 따라서 변수 값의 유효성을 검사하기보다 변수의 존재 자체를 검사하는 패턴이 일반적입니다.
*   **문자열 아님**: `defined("variable_name")`처럼 문자열로 전달하면 안 됩니다. `defined(variable_name)`처럼 식별자를 사용해야 합니다.
