# Chromium GN getenv 함수 가이드

`getenv` 함수는 **GN 생성 시간(Gen-time)**에 시스템의 환경 변수(Environment Variable) 값을 읽어오는 데 사용됩니다.

**경고: `getenv`를 사용하면 빌드가 실행되는 환경에 따라 결과가 달라질 수 있습니다. 이는 빌드의 재현성(Reproducibility)을 해치므로, 사용을 강력히 지양해야 합니다. 대부분의 경우, `declare_args`를 사용하여 외부 값을 빌드에 전달하는 것이 올바른 방법입니다.**

## 1. 기본 문법 (Basic Syntax)

```gn
value = getenv(variable_name)
```

*   **`variable_name`**: 읽어올 환경 변수의 이름을 문자열로 지정합니다.
*   **반환값**:
    *   환경 변수가 존재하면 그 값을 **문자열**로 반환합니다.
    *   환경 변수가 존재하지 않으면 **`false`**를 반환합니다.

## 2. 사용 예시 (Usage Example)

```gn
# HOME 환경 변수 읽기
home_dir = getenv("HOME")

if (home_dir != false) {
  print("Home directory is: $home_dir")
} else {
  print("HOME environment variable is not set.")
}

# 커스텀 환경 변수 사용
custom_path = getenv("MY_CUSTOM_PATH")
if (custom_path != false) {
  include_dirs = [ custom_path ]
}
```

## 3. 더 나은 대안: `declare_args`

환경에 따라 빌드 구성을 변경해야 한다면, `getenv` 대신 `declare_args`를 사용하는 것이 훨씬 좋습니다. 이렇게 하면 빌드 구성이 명시적이 되고, 모든 개발자가 동일한 방식으로 빌드를 재현할 수 있습니다.

**`getenv` 사용 (나쁜 예):**
```gn
sdk_path = getenv("MY_SDK_PATH")
assert(sdk_path != false, "MY_SDK_PATH must be set.")
```

**`declare_args` 사용 (좋은 예):**
```gn
declare_args() {
  my_sdk_path = ""
}
assert(my_sdk_path != "", "my_sdk_path must be set in your args.gn")
```
사용자는 `gn args out/Default`를 통해 `my_sdk_path = "/path/to/sdk"`와 같이 명시적으로 경로를 설정할 수 있습니다.

## 4. 언제 `getenv`를 사용해야 하는가?

`getenv`는 거의 모든 경우에 피해야 하지만, 다음과 같은 극히 제한적인 상황에서만 고려될 수 있습니다.

*   개발자 개인의 로컬 환경에만 영향을 미치는, 재현성이 중요하지 않은 도우미 스크립트나 설정을 찾을 때 (예: `getenv("EDITOR")`).
*   기존의 레거시 시스템이 환경 변수에 강하게 의존하고 있어 즉각적인 수정이 어려울 때.
