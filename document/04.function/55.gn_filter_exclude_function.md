# Chromium GN filter_exclude 함수 가이드

`filter_exclude` 함수는 주어진 리스트에서 특정 패턴과 일치하는 요소들을 **제외**한 새로운 리스트를 반환합니다. 파일 목록에서 특정 유형의 파일을 제거하는 데 매우 유용합니다.

## 1. 기본 문법 (Basic Syntax)

```gn
new_list = filter_exclude(input_list, patterns_to_exclude)
```

*   **`input_list`**: 필터링할 원본 리스트입니다.
*   **`patterns_to_exclude`**: 제외할 패턴 목록입니다. 와일드카드(`*`)를 사용할 수 있습니다.

## 2. 사용 예시 (Usage Examples)

### 2.1. 테스트 파일 제외하기

가장 흔한 사용 사례는 소스 파일 목록에서 테스트 관련 파일을 제외하는 것입니다.

```gn
# 모든 .cc 파일을 가져왔다고 가정
all_sources = [
  "foo.cc",
  "bar.cc",
  "foo_unittest.cc",
  "bar_browsertest.cc",
]

# 테스트 파일 패턴을 제외
production_sources = filter_exclude(all_sources, [ "*_unittest.cc", "*_browsertest.cc" ])

# production_sources는 이제 [ "foo.cc", "bar.cc" ]
```

### 2.2. 특정 플랫폼 구현 제외하기

`get_target_outputs`로 생성된 파일 목록에서 현재 빌드에 불필요한 플랫폼용 파일을 제외할 때 유용합니다.

```gn
# action 타겟이 여러 파일을 생성했다고 가정
generated_files = get_target_outputs(":my_action")
# generated_files = [ "a_win.cc", "a_linux.cc", "b_win.cc", "b_linux.cc" ]

if (is_win) {
  # Linux용 파일 제외
  win_files = filter_exclude(generated_files, [ "*_linux.cc" ])
  # win_files는 이제 [ "a_win.cc", "b_win.cc" ]
}
```

## 3. `filter_include`와의 관계

`filter_exclude`는 `filter_include`와 정반대로 동작합니다.

*   **`filter_exclude`**: 패턴에 **일치하지 않는** 요소만 남깁니다.
*   **`filter_include`**: 패턴에 **일치하는** 요소만 남깁니다.

## 4. 리스트 빼기 연산(`-=`)과의 차이점

단순히 정확한 문자열을 제거할 때는 리스트 빼기 연산(`-=`)을 사용할 수 있습니다. 하지만 `filter_exclude`는 와일드카드 패턴을 사용할 수 있어 더 강력하고 유연합니다.

```gn
my_list = [ "a.cc", "b.cc", "c.cc" ]

# 아래 두 방식은 "b.cc"를 제거하는 동일한 결과를 낳지만,
# filter_exclude는 "*b.cc"와 같은 패턴 매칭이 가능하다.
filtered_list = filter_exclude(my_list, [ "b.cc" ])
my_list -= [ "b.cc" ] # 이 경우 my_list 자체가 변경됨
```
