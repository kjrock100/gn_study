# Chromium GN get_label_info 함수 가이드

`get_label_info` 함수는 타겟 라벨(Target Label) 문자열을 입력받아, 해당 라벨의 특정 부분(이름, 디렉토리, 생성 파일 경로 등)을 추출하거나 변환하는 데 사용됩니다. 다른 타겟의 출력 디렉토리를 알아내거나 라벨을 조작할 때 필수적입니다.

## 1. 기본 문법 (Basic Syntax)

```gn
result = get_label_info(target_label, what)
```

*   **`target_label`**: 정보를 추출할 대상 타겟의 라벨 문자열입니다. (예: `//base:base`, `:my_target`)
*   **`what`**: 추출할 정보의 종류를 지정하는 문자열입니다.

## 2. `what` 옵션 (Options)

*   **`"name"`**: 타겟의 이름만 추출합니다.
*   **`"dir"`**: 타겟이 정의된 디렉토리 경로를 추출합니다 (소스 루트 `//` 기준).
*   **`"target_gen_dir"`**: 해당 타겟을 위한 생성 파일(Generated file) 디렉토리 경로를 반환합니다.
*   **`"root_gen_dir"`**: 해당 타겟의 툴체인에 맞는 루트 생성 파일 디렉토리를 반환합니다.
*   **`"target_out_dir"`**: 해당 타겟을 위한 출력 파일(Output file) 디렉토리 경로를 반환합니다.
*   **`"root_out_dir"`**: 해당 타겟의 툴체인에 맞는 루트 출력 파일 디렉토리를 반환합니다.
*   **`"label_no_toolchain"`**: 툴체인 정보를 제외한 라벨을 반환합니다.
*   **`"label_with_toolchain"`**: 툴체인 정보를 포함한 전체 라벨을 반환합니다.
*   **`"toolchain"`**: 해당 타겟이 사용하는 툴체인의 라벨을 반환합니다.

## 3. 사용 예시 (Usage Examples)

### 3.1. 타겟 이름과 디렉토리 추출

```gn
label = "//chrome/browser:browser"

name = get_label_info(label, "name") # "browser"
dir = get_label_info(label, "dir")   # "//chrome/browser"
```

### 3.2. 생성 파일 경로 얻기

다른 타겟이 생성하는 파일의 경로를 알아내어 `include_dirs`나 `sources`로 사용할 때 가장 많이 사용됩니다.

```gn
# //tools/idl_compiler:compile 타겟이 생성하는 파일들이 위치할 디렉토리
idl_gen_dir = get_label_info("//tools/idl_compiler:compile", "target_gen_dir")

executable("my_app") {
  sources = [ "main.cc" ]
  # 생성된 헤더 파일을 찾기 위해 include 경로 추가
  include_dirs = [ idl_gen_dir ]
  deps = [ "//tools/idl_compiler:compile" ]
}
```

### 3.3. 툴체인 정보 확인

```gn
# 현재 타겟의 툴체인 확인
current_tc = get_label_info(":$target_name", "toolchain")
```

## 4. 주의사항

*   **경로 형식**: 반환되는 디렉토리 경로는 소스 루트(`//`) 기준이거나 빌드 루트 기준 상대 경로일 수 있습니다. `rebase_path`와 함께 사용하여 원하는 형식으로 변환해야 할 수도 있습니다.
*   **타겟 존재 여부**: `get_label_info`는 입력된 라벨 문자열을 파싱하여 규칙에 따라 정보를 제공할 뿐, 해당 타겟이 실제로 존재하는지 확인하지는 않습니다.
