# Chromium GN Copy 타겟 가이드

`copy` 타겟은 소스 파일이나 데이터 파일을 빌드 출력 디렉토리(또는 다른 위치)로 복사하는 데 사용됩니다. 단순한 파일 복사 작업에 최적화되어 있습니다.

## 1. 기본 구조 (Basic Structure)

```gn
copy("copy_config") {
  sources = [ "data/config.json" ]
  outputs = [ "$root_out_dir/data/config.json" ]
}
```

## 2. 주요 변수 (Key Variables)

### `sources` (필수)
복사할 원본 파일들의 목록입니다.

### `outputs` (필수)
복사된 파일이 위치할 대상 경로의 목록입니다.
*   **중요**: `sources` 리스트의 파일 개수와 `outputs` 리스트의 항목 수가 정확히 일치해야 합니다.
*   여러 파일을 복사할 때는 **치환 패턴(Substitution Patterns)**을 사용하여 출력 경로를 정의하는 것이 일반적입니다.

## 3. 치환 패턴 (Substitutions)

여러 파일을 복사할 때 `outputs` 변수에서 사용하여 입력 파일에 따른 출력 경로를 동적으로 생성합니다.

*   `{{source}}`: 소스 파일의 전체 경로.
*   `{{source_name_part}}`: 확장자를 제외한 파일 이름.
*   `{{source_file_part}}`: 파일 이름 (확장자 포함).
*   `{{source_dir}}`: 소스 파일이 있는 디렉토리.

## 4. 사용 예시 (Usage Examples)

### 단일 파일 복사
```gn
copy("my_app_config") {
  sources = [ "my_app.conf" ]
  outputs = [ "$root_out_dir/my_app.conf" ]
}
```

### 다중 파일 복사 (패턴 사용)
`sources`에 있는 모든 파일을 `gen` 디렉토리로 복사하는 예제입니다.

```gn
copy("copy_resources") {
  sources = [
    "images/logo.png",
    "images/background.jpg",
  ]
  
  # {{source_file_part}}는 "logo.png", "background.jpg"로 치환됨
  outputs = [ "$target_gen_dir/resources/{{source_file_part}}" ]
}
```

## 5. 주의사항

*   `copy` 타겟은 단순히 파일을 복사만 합니다. 파일 내용을 변환하거나 처리해야 한다면 `action` 또는 `action_foreach` 타겟을 사용해야 합니다.
*   `outputs` 경로는 빌드 디렉토리(`root_build_dir`) 내부여야 합니다. 소스 트리로 파일을 복사하는 것은 GN의 원칙(소스 불변성)에 위배되므로 허용되지 않거나 권장되지 않습니다.
