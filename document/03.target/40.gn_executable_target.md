# Chromium GN Executable 타겟 가이드

`executable` 타겟은 C/C++ 소스 코드를 컴파일하고 링크하여 실행 가능한 바이너리(Executable Binary)를 생성하는 데 사용됩니다.

## 1. 기본 구조 (Basic Structure)

```gn
executable("hello_world") {
  sources = [ "main.cc" ]
  deps = [ "//base" ]
}
```

## 2. 주요 변수 (Key Variables)

### `sources`
컴파일할 소스 파일(`.cc`, `.cpp`, `.c`, `.mm`, `.rc` 등)의 목록입니다.

### `deps`
이 실행 파일이 링크할 라이브러리나 의존하는 다른 타겟들의 목록입니다.
*   `source_set`: 객체 파일들이 직접 포함됩니다.
*   `static_library`: 정적 라이브러리(`.a`/`.lib`)가 링크됩니다.
*   `shared_library`: 동적 라이브러리(`.so`/`.dll`)가 링크됩니다.

### `configs`
컴파일러 플래그, 인클루드 경로 등을 정의한 설정 목록입니다. 기본값(`set_defaults`)에 추가하거나 제거할 수 있습니다.

### `output_name`
생성될 실행 파일의 이름을 지정합니다. 생략하면 타겟 이름(`target_name`)이 사용됩니다.
*   예: `output_name = "my_tool"` -> `my_tool.exe` (Windows) 또는 `my_tool` (Linux/Mac) 생성.

### `output_dir`
실행 파일이 생성될 디렉토리를 지정합니다. 기본값은 `$root_out_dir`입니다.

## 3. 사용 예시 (Usage Examples)

### 간단한 콘솔 프로그램

```gn
executable("my_tool") {
  sources = [
    "main.cc",
    "tool_utils.cc",
    "tool_utils.h",
  ]

  deps = [
    "//base:base",
    "//third_party/icu",
  ]

  defines = [ "ENABLE_LOGGING" ]
}
```

### 테스트 실행 파일 (`testonly`)

단위 테스트 등을 위한 실행 파일은 `testonly = true`를 설정하여 프로덕션 코드와의 의존성을 분리하는 것이 좋습니다.

```gn
executable("unit_tests") {
  testonly = true
  
  sources = [
    "foo_test.cc",
    "bar_test.cc",
    "run_all_tests.cc",
  ]

  deps = [
    ":my_lib",
    "//testing/gtest",
    "//testing/gtest:gtest_main",
  ]
}
```

## 4. 주의사항

*   **`source_set`과의 관계**: Chromium 프로젝트에서는 라이브러리 코드를 주로 `source_set`으로 관리하고, 최종 `executable` 타겟에서 이를 `deps`로 가져와 링크하는 방식을 선호합니다. 이렇게 하면 링커가 사용되지 않는 심볼을 더 효과적으로 제거(Dead code stripping)할 수 있고, 링크 속도도 향상될 수 있습니다.
*   **확장자**: 출력 파일의 확장자(`.exe` 등)는 현재 툴체인 설정에 따라 자동으로 붙습니다. `output_name`에 확장자를 포함하지 마세요.
